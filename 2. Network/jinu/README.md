
 ### OSI 7계층  

 OSI 7계층을 생각나는대로 적어보자!  
 - 물리 - 데이터링크 - 네트워크 - 전송 - 세션 - 표현 - 응용   
 - 끝..   공부해보자   
 
 #### 1. OSI 7계층?  &  OSI 7 Layer vs TCP 4 Layer  
 <img src="./images/layer.png" width="40%">   
 
 - OSI 모델은 국제 표준화 기구에서 개발한 네트워크 계층 모델입니다.   
 - 서로 통신을 위해 송신자의 데이터는 L7(응용)계층에서 L1(물리)계층으로 내려가서 수신자의 L1(물리)계층을 통해 전달되며 다시 수신자의 L7(응용)계층까지 올라가서 데이터 전송이 완료됩니다.  
 - L7 -> L1 과정을 Multipexing  /  L1 -> L7 과정을 Demultiplexing  
 - Multiplexing : Data에 Header를 추가하는 과정   
 - Demultiplexing : 순수 Data만 추출하는 과정   
 - 각 계층끼리는 통신을 위한 프로토콜이 존재합니다.  
 
 <br>   
 
 <img src="./images/layer2.png" width="40%">   
 
 AH : Application Header   
 PH : Presentation Header   
 SH : Session Header   
 TH : Transport Header   
 NH : Network Header / NT : Network Tail   
 DH : Data Link Header / DT : Data Link Tail   
 
 <br>  
 
 #### 2. 각 계층  
 
 ##### 물리계층 (L1)   
  <img src="./images/l1.png" width="30%">   
  
 - 프로토콜 : RS-232  
 - 장비 : 허브, 리피터  
 - 역할 : 전달된 데이터를 전기적 신호(bit 단위)로 변환하여 통신  
 - 단위 : bit
 - 정의 : 실제 장치들을 연결하기 위해 필요한 전기적, 물리적 세부사항들을 정의하는 계층  

 <br>  
 
 ##### 데이터 링크 계층 (L2)   
 <img src="./images/l2.png" width="30%">     
 
 - 프로토콜 : HDLC, PPP, Frame Relay, ATM  
 - 장비 : 스위치, 브릿지  
 - 역할 : 오류 없는 데이터 전송을 위한 상위 계층에서 받은 패킷을 Frame으로 변환  
 - 단위 : Frame(프레임)  
 - 정의 : 노드 간 오류제어, 흐름제어, 회선제어 기능을 수행하는 계층  

 * Frame Relay : 하나의 물리적 회선에 여러 개의 논리 회선인 가상회선(Pemanent Vitual Circuit)을 만들어 마치 전용선처럼 사용하는 서비스, L2 WAN 프로토콜  
    => 비싼 망 구성 물리적 비용을 줄일 수 있다.  
 
 <br>    
 
 ##### 네트워크 계층(L3)   
  <img src="./images/l3.jpg" width="30%">     
  
 - 프로토콜 : IP, ARP, RARP, ICMP, IGMP    
 - 장비 : 라우터, 스위치(L3)   
 - 역할 : 패킷을 분석하여 네트워크를 통해 출발지에서 목적지까지의 최적 경로를 선택    
 - 단위 : Packet(패킷)    
 - 정의 : 전송계층이 요구하는 QoS를 위한 수단을 제공하는 계층, 라우팅, 패킷 포워딩 등을 수행   
 
 * ARP : 주소 결정 프로토콜 : IP -> MAC   
 * RARP : MAC -> IP    
 * ICMP : 인터넷 제어 메시지 프로토콜 : 오류 메시지를 전송받는데 사용되는 프로토콜   
 
 * 공유기 vs 라우터?  
 - 공유기 : 단일회선, 단일 IP 에서 하위 클라이언트 장비들이 인터넷 연결을 가능하게 해주는 장비입니다. NAT 장비로서 공인 IP를 사설 IP로 분배하여 각 PC, IoT 장비에 분배하는 역할을 수행합니다.      -> 즉, 가정에서 할당받는 1개의 IP를 통해 다양한 기기가 공유기를 통해 사설 IP 를 할당받아 네트워크에 연결되도록 합니다.  
 
 - 라우터 : 서버와 클라이언트간 효율적으로 연결을 분배하고 다양한 패킷을 분산하여 보내고 받을 수 있는 장비입니다. 공인 IP를 보내고 받는 역할을 하며 목적지까지의 최적의 경로를 설정하는 역할을 수행합니다.  


 <br>
 
 ##### 전송 계층(L4)  
  <img src="./images/l4.jpg" width="30%">   
  
  - 프로토콜 : TCP, UDP, RTP  
  - 장비 : 게이트웨이, L4 스위치  
  - 역할 : 양 끝단의 사용자들이 신뢰성 있는 데이터를 주고 받을 수 있게 해주는 역할, Port를 통해 패킷을 생성 & 전송합니다.   
  - 단위 : 세그먼트(Segment)    
  - 정의 : End-to-End 통신을 다루며 신뢰성 있는 패킷을 생성 및 전송하고 오류검출, 복구, 흐름제어 등에 사용되는 프로토콜  
  (TCP, UDP는 뒤에서 다루겠습니다.)  
  
 <br>
 
 ##### 세션 계층(L5)
  - 프로토콜 : SSH, TLS, NetBIOS  
  - 역할 : Port 번호를 기반으로 연결하며 통신 장치간 상호작용에 대해 설정하고 동기화합니다, TCP/IP 세션을 생성/파기하는 역할을 합니다.(OS에서 수행)  
  - 세션이란 __데이터가 통신하기 위한 논리적인 연결을 뜻합니다.__  
  - 단위 : 메시지
  - 정의 : 통신 세션을 구성하는 계층으로 Port 기반으로 연결하여 상호간 연결을 유지하게 하는 프로토콜  

 <br>
 
  ##### 표현 계층(L6)
  - 프로토콜 : MPEG, JPG, PAP, SMB  
  - 역할 : 사용자(응용) 계층으로부터 받은 데이터를 하위 계층으로 보내기 전 통신에 적당한 형태로 변환하는 역할을 합니다. (EBCDIC -> ASCII , 확장자 구분을 통해 JPG, GIF, TXT 등 표현하는 역할 등)     
  - 반대로 세션에서 받은 객체 메시지는 응용 계층에 맞게 변환하는 역할도 수행합니다.   
  - 단위 : 메시지, 데이터  
  - 정의 : 코드 간 번역을 담당하여 데이터의 형식 차이를 다루는 부담을 덜어주며 인코딩, 암호화 등을 통해 적절한 변환을 수행하는 프로토콜   

 <br>

 ##### 응용 계층(L7)  
  - 프로토콜 : DHCP, DNS, FTP, HTTP  
  - 역할 : 응용 SW를 도와주는 계층  
  - 단위 : 메시지, 데이터   
  - 정의 : 응용 프로세스와 직접적으로 연결을 통해 응용 서비스를 수행하도록 돕는 프로토콜입니다.  



